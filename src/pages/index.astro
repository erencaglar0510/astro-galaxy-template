---
import Head from "../layout/Head.astro";
import MainLayout from "../layout/MainLayout.astro";
import { jwtDecode } from "../../utils/jwt";

let user: any = false

const jwt = Astro.cookies.get("token").value

if (jwt){
	user = await jwtDecode(jwt)
}

console.log(user)

---

<Head title="ATM stack" />
<MainLayout>
	<div class="container flex flex-col items-center justify-center gap-12 px-4 py-16 ">
		<h1 class="text-5xl font-extrabold tracking-tight text-white sm:text-[5rem] text-center">
		  Create Fast Website With <br> <span class="text-[hsl(280,100%,70%)]">Spaceship</span> stackðŸš€ 
		</h1>
		<div class="flex flex-col items-center gap-2">
			{user?<p class="text-white text-2xl">Hello {user?.email}</p>:<a href="/login" class="text-white text-2xl border p-4 rounded-lg">Log-In To See Message</a>}
			<a class="mt-8 text-white text-2xl border p-4 rounded-lg"  href="/dashboard">Dashboard</a>
			<a class="mt-8 text-white text-2xl border p-4 rounded-lg"  href="/">Docs</a>
		</div>
	  </div>
</MainLayout>